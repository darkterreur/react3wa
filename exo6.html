<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8" />
    <title>Hello React</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <!-- babel => compilation du JSX -->
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <style>
      .heading{
        color: red;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <script type="text/babel">
            var users = ['OTY', 'JAMES', 'PAT']

            class UserForm extends React.Component {
                                constructor(props) {
                                                super(props);
                                                this.state = { value: ''};
                                }

                                handleChange = (event) => {
                                    console.log(event.target.value)
                                    this.setState({ value: event.target.value.toUpperCase() })
                                }

                                handleSubmit = (event) => {      
                                       event.preventDefault();
                                       const found = users.includes(this.state.value)
                                       console.log('found ', found)
                                       console.log( 'Lenght is', this.state.value.length)
                                       console.log( `New User : ${this.state.value}`)
                                       if(!found && (this.state.value.length > 0 )) {
                                                    users.push(this.state.value)
                                                    }
                                        else alert("User exist or void input")
                                 }


                                render() {
                                        return (
                                            <div className="container">
                                                <form onSubmit={e => this.handleSubmit(e)}>
                                                    <label>
                                                        Enter Username:
                                                        <input type="text" value={this.state.value} onChange={this.handleChange} />
                                                    </label>
                                                    <input type="submit" value="Add" />
                                                </form>
                                        </div>
                                );
                                }
            }
      

          ReactDOM.render(
                            <div>
                            <UserForm />
                            </div>,

                            document.getElementById('root')
                            );

 
    </script>
</body>
</html>